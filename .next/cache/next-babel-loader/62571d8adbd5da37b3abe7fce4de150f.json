{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\icube\\\\Documents\\\\Yuda Folder\\\\react\\\\next\\\\next-js-apollo-redux\\\\pages\\\\product\\\\[url_key].js\";\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Layout from \"../../components/Layout\";\nimport { withApollo } from \"../../lib/apollo\";\nimport { withRedux } from \"../../lib/redux\";\nimport { useRouter } from \"next/router\";\nimport { useQuery } from \"@apollo/react-hooks\";\nimport { PRODUCT_BY_KEY } from \"../../data/product\";\nimport Price from \"../../components/Price\";\nimport { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { addToCart } from '../../redux/action/actionCart';\nimport { compose } from \"redux\";\nimport { Grid, TextField, Paper, Button, CircularProgress, makeStyles, Icon } from \"@material-ui/core\";\nvar useStyles = makeStyles(function (theme) {\n  return {\n    img: {\n      width: '100%'\n    },\n    description: {\n      width: '100%',\n      '& img, & iframe': {\n        width: '100%'\n      }\n    },\n    availibity: {\n      display: 'flex',\n      justifyContent: 'space-between',\n      textTransform: 'capitalize'\n    },\n    formAddToCart: {\n      '& .material-icons': {\n        marginRight: '5px'\n      }\n    },\n    productInfo: {\n      display: 'block',\n      '& .section:not(last-child)': {\n        display: 'block',\n        margin: '0 0 10px'\n      }\n    }\n  };\n});\n\nvar Product = function Product() {\n  var pageConfig = {\n    title: \"PDP\"\n  };\n\n  var _useState = useState(),\n      _useState$ = _useState[0],\n      qty = _useState$ === void 0 ? 1 : _useState$,\n      setQty = _useState[1];\n\n  var dispatch = useDispatch();\n  var router = useRouter();\n  var classes = useStyles();\n  var url_key = router.query.url_key;\n\n  var _useQuery = useQuery(PRODUCT_BY_KEY, {\n    variables: {\n      url_key: url_key\n    }\n  }),\n      loading = _useQuery.loading,\n      data = _useQuery.data;\n\n  if (loading) {\n    return __jsx(\"div\", {\n      className: \"loading\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 7\n      }\n    }, \"Wait ...\");\n  }\n\n  var handleQty = function handleQty(e) {\n    setQty(e.target.value);\n  };\n\n  var handleAddtoCart = function handleAddtoCart(e) {\n    e.preventDefault();\n    var item = {\n      id: product.id,\n      qty: parseInt(qty),\n      product: {\n        name: product.name,\n        image: __jsx(\"img\", {\n          src: product.image.url,\n          alt: product.image.label,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 20\n          }\n        }),\n        price: __jsx(Price, {\n          price: product.price_range.minimum_price,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 20\n          }\n        }),\n        sku: product.sku\n      }\n    };\n    dispatch(addToCart(item));\n  };\n\n  var product = data.products.items[0];\n  pageConfig.title = product.name;\n  return __jsx(Layout, {\n    pageConfig: pageConfig,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 5\n    }\n  }, loading ? __jsx(CircularProgress, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 18\n    }\n  }) : __jsx(Grid, {\n    container: true,\n    spacing: 3,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }, __jsx(Grid, {\n    item: true,\n    sm: 5,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, __jsx(\"section\", {\n    className: \"section product-image\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }, __jsx(\"img\", {\n    src: product.image.url,\n    alt: product.image.label,\n    className: classes.img,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 15\n    }\n  }))), __jsx(Grid, {\n    item: true,\n    sm: 7,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: classes.productInfo,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  }, __jsx(\"section\", {\n    className: \"section product-info\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }, __jsx(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 15\n    }\n  }, product.name), __jsx(Price, {\n    price: product.price_range.minimum_price,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 15\n    }\n  })), __jsx(\"section\", {\n    className: \"section \".concat(classes.formAddToCart),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }, __jsx(\"form\", {\n    id: \"add-to-cart-\".concat(product.id),\n    onSubmit: handleAddtoCart,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 17\n    }\n  }, __jsx(TextField, {\n    required: true,\n    label: \"Quantity\",\n    defaultValue: qty,\n    id: \"qty\",\n    onChange: handleQty,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 21\n    }\n  }), __jsx(Button, {\n    variant: \"contained\",\n    type: \"submit\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 21\n    }\n  }, __jsx(Icon, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 63\n    }\n  }, \"add_shopping_cart\"), \" Add to Cart\"))), __jsx(\"section\", {\n    className: \"section product-description\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  }, __jsx(\"h4\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 15\n    }\n  }, \"Description\"), __jsx(\"div\", {\n    className: classes.description,\n    dangerouslySetInnerHTML: {\n      __html: product.description.html\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 15\n    }\n  }))))));\n};\n\nexport default compose(withApollo, withRedux)(Product);","map":{"version":3,"sources":["C:/Users/icube/Documents/Yuda Folder/react/next/next-js-apollo-redux/pages/product/[url_key].js"],"names":["Layout","withApollo","withRedux","useRouter","useQuery","PRODUCT_BY_KEY","Price","useState","useDispatch","addToCart","compose","Grid","TextField","Paper","Button","CircularProgress","makeStyles","Icon","useStyles","theme","img","width","description","availibity","display","justifyContent","textTransform","formAddToCart","marginRight","productInfo","margin","Product","pageConfig","title","qty","setQty","dispatch","router","classes","url_key","query","variables","loading","data","handleQty","e","target","value","handleAddtoCart","preventDefault","item","id","product","parseInt","name","image","url","label","price","price_range","minimum_price","sku","products","items","__html","html"],"mappings":"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","sourcesContent":["import Layout from \"../../components/Layout\";\r\nimport { withApollo } from \"../../lib/apollo\";\r\nimport { withRedux } from \"../../lib/redux\";\r\nimport { useRouter } from \"next/router\";\r\nimport { useQuery } from \"@apollo/react-hooks\";\r\nimport { PRODUCT_BY_KEY } from \"../../data/product\";\r\nimport Price from \"../../components/Price\";\r\nimport { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { addToCart } from '../../redux/action/actionCart';\r\nimport { compose } from \"redux\";\r\nimport { Grid, TextField, Paper, Button, CircularProgress, makeStyles, Icon } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  img: {\r\n    width: '100%'\r\n  },\r\n  description: {\r\n    width: '100%',\r\n    '& img, & iframe': {\r\n      width: '100%'\r\n    }\r\n  },\r\n  availibity: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    textTransform: 'capitalize'\r\n  },\r\n  formAddToCart: {\r\n    '& .material-icons': {\r\n      marginRight: '5px'\r\n    }\r\n  },\r\n  productInfo: {\r\n    display: 'block',\r\n    '& .section:not(last-child)': {\r\n      display: 'block',\r\n      margin: '0 0 10px'\r\n    }\r\n  }\r\n}))\r\n\r\nconst Product = () => {\r\n  const pageConfig = {\r\n    title: \"PDP\",\r\n  };\r\n  const [qty=1, setQty] = useState();\r\n  const dispatch = useDispatch();\r\n  const router = useRouter();\r\n  const classes = useStyles();\r\n  const { url_key } = router.query;\r\n  const { loading, data } = useQuery(PRODUCT_BY_KEY, {\r\n    variables: {\r\n      url_key: url_key,\r\n    },\r\n  });\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"loading\">Wait ...</div>\r\n    );\r\n  }\r\n\r\n  const handleQty = (e) => {\r\n      setQty(e.target.value)\r\n  }\r\n\r\n  const handleAddtoCart = (e) => {\r\n      e.preventDefault();\r\n\r\n      const item = {\r\n        id: product.id,\r\n        qty: parseInt(qty),\r\n        product: {\r\n            name: product.name,\r\n            image: <img src={product.image.url} alt={product.image.label} />,\r\n            price: <Price price={product.price_range.minimum_price}/>,\r\n            sku: product.sku\r\n        }\r\n      }\r\n\r\n      dispatch(addToCart(item))\r\n  }\r\n\r\n  const product = data.products.items[0];\r\n  pageConfig.title = product.name;\r\n\r\n  return (\r\n    <Layout pageConfig={pageConfig}>\r\n      {(loading)?<CircularProgress />:\r\n      <Grid container spacing={3}>\r\n        <Grid item sm={5}>\r\n          <section className=\"section product-image\">\r\n              <img src={product.image.url} alt={product.image.label} className={classes.img} />\r\n          </section>\r\n        </Grid> \r\n        <Grid item sm={7}>\r\n          <div className={classes.productInfo}>\r\n            <section className=\"section product-info\">\r\n              <h1>{product.name}</h1>\r\n              <Price price={product.price_range.minimum_price} />\r\n            </section>\r\n            <section className={`section ${classes.formAddToCart}`}>\r\n                <form id={`add-to-cart-${product.id}`} onSubmit={handleAddtoCart}>\r\n                    <TextField required label=\"Quantity\" defaultValue={qty} id=\"qty\" onChange={handleQty} />\r\n                    <Button variant=\"contained\" type=\"submit\"><Icon>add_shopping_cart</Icon> Add to Cart</Button>\r\n                </form>\r\n            </section>\r\n            <section className=\"section product-description\">\r\n              <h4>Description</h4>\r\n              <div className={classes.description} dangerouslySetInnerHTML={{__html: product.description.html}}></div>\r\n            </section>\r\n          </div>\r\n        </Grid>\r\n      </Grid>\r\n      }\r\n    </Layout>\r\n  )\r\n};\r\n\r\nexport default compose(withApollo, withRedux)(Product);\r\n"]},"metadata":{},"sourceType":"module"}