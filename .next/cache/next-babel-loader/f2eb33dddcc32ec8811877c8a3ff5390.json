{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\icube\\\\Documents\\\\Yuda Folder\\\\react\\\\next\\\\next-js-apollo-redux\\\\pages\\\\product\\\\[url_key].js\";\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Layout from \"../../components/Layout\";\nimport { withApollo } from \"../../lib/apollo\";\nimport { withRedux } from \"../../lib/redux\";\nimport { useRouter } from \"next/router\";\nimport { useQuery } from \"@apollo/react-hooks\";\nimport { PRODUCT_BY_KEY } from \"../../data/product\";\nimport Price from \"../../components/Price\";\nimport { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { addToCart } from '../../redux/action/actionCart';\nimport { compose } from \"redux\";\nimport { Grid, TextField, Paper, Button, CircularProgress } from \"@material-ui/core\";\n\nvar Product = function Product() {\n  var pageConfig = {\n    title: \"PDP\"\n  };\n\n  var _useState = useState(),\n      _useState$ = _useState[0],\n      qty = _useState$ === void 0 ? 1 : _useState$,\n      setQty = _useState[1];\n\n  var dispatch = useDispatch();\n  var router = useRouter();\n  var url_key = router.query.url_key;\n\n  var _useQuery = useQuery(PRODUCT_BY_KEY, {\n    variables: {\n      url_key: url_key\n    }\n  }),\n      loading = _useQuery.loading,\n      data = _useQuery.data;\n\n  if (loading) {\n    return __jsx(\"div\", {\n      className: \"loading\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 7\n      }\n    }, \"Wait ...\");\n  }\n\n  var handleQty = function handleQty(e) {\n    setQty(e.target.value);\n  };\n\n  var handleAddtoCart = function handleAddtoCart(e) {\n    e.preventDefault();\n    var item = {\n      id: product.id,\n      qty: parseInt(qty),\n      product: {\n        name: product.name,\n        image: __jsx(\"img\", {\n          src: product.image.url,\n          alt: product.image.label,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 20\n          }\n        }),\n        price: __jsx(Price, {\n          price: product.price_range.minimum_price,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 20\n          }\n        }),\n        sku: product.sku\n      }\n    };\n    dispatch(addToCart(item));\n  };\n\n  var product = data.products.items[0];\n  pageConfig.title = product.name;\n  return __jsx(Layout, {\n    pageConfig: pageConfig,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, loading ? __jsx(CircularProgress, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 18\n    }\n  }) : __jsx(Grid, {\n    container: true,\n    spacing: 3,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  }, __jsx(Grid, {\n    item: true,\n    sm: 5,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, __jsx(\"section\", {\n    className: \"section product-image\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }, __jsx(\"img\", {\n    src: product.image.url,\n    alt: product.image.label,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 15\n    }\n  }))), __jsx(Grid, {\n    item: true,\n    sm: 7,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, __jsx(\"section\", {\n    className: \"section product-info\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }\n  }, __jsx(\"h1\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 15\n    }\n  }, product.name), __jsx(Price, {\n    price: product.price_range.minimum_price,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 15\n    }\n  })), __jsx(\"section\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, __jsx(\"form\", {\n    id: \"add-to-cart-\".concat(product.id),\n    onSubmit: handleAddtoCart,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, __jsx(TextField, {\n    required: true,\n    label: \"Quantity\",\n    defaultValue: qty,\n    id: \"qty\",\n    onChange: handleQty,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  }), __jsx(Button, {\n    variant: \"contained\",\n    type: \"submit\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 21\n    }\n  }, \" Add to Cart\"))), __jsx(\"section\", {\n    className: \"section product-description\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, __jsx(\"h4\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 15\n    }\n  }, \"Description\"), __jsx(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: product.description.html\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 15\n    }\n  }))))));\n};\n\nexport default compose(withApollo, withRedux)(Product);","map":{"version":3,"sources":["C:/Users/icube/Documents/Yuda Folder/react/next/next-js-apollo-redux/pages/product/[url_key].js"],"names":["Layout","withApollo","withRedux","useRouter","useQuery","PRODUCT_BY_KEY","Price","useState","useDispatch","addToCart","compose","Grid","TextField","Paper","Button","CircularProgress","Product","pageConfig","title","qty","setQty","dispatch","router","url_key","query","variables","loading","data","handleQty","e","target","value","handleAddtoCart","preventDefault","item","id","product","parseInt","name","image","url","label","price","price_range","minimum_price","sku","products","items","__html","description","html"],"mappings":"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","sourcesContent":["import Layout from \"../../components/Layout\";\r\nimport { withApollo } from \"../../lib/apollo\";\r\nimport { withRedux } from \"../../lib/redux\";\r\nimport { useRouter } from \"next/router\";\r\nimport { useQuery } from \"@apollo/react-hooks\";\r\nimport { PRODUCT_BY_KEY } from \"../../data/product\";\r\nimport Price from \"../../components/Price\";\r\nimport { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { addToCart } from '../../redux/action/actionCart';\r\nimport { compose } from \"redux\";\r\nimport { Grid, TextField, Paper, Button, CircularProgress } from \"@material-ui/core\";\r\n\r\n\r\nconst Product = () => {\r\n  const pageConfig = {\r\n    title: \"PDP\",\r\n  };\r\n  const [qty=1, setQty] = useState();\r\n  const dispatch = useDispatch();\r\n  const router = useRouter();\r\n  const { url_key } = router.query;\r\n  const { loading, data } = useQuery(PRODUCT_BY_KEY, {\r\n    variables: {\r\n      url_key: url_key,\r\n    },\r\n  });\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"loading\">Wait ...</div>\r\n    );\r\n  }\r\n\r\n  const handleQty = (e) => {\r\n      setQty(e.target.value)\r\n  }\r\n\r\n  const handleAddtoCart = (e) => {\r\n      e.preventDefault();\r\n\r\n      const item = {\r\n        id: product.id,\r\n        qty: parseInt(qty),\r\n        product: {\r\n            name: product.name,\r\n            image: <img src={product.image.url} alt={product.image.label} />,\r\n            price: <Price price={product.price_range.minimum_price}/>,\r\n            sku: product.sku\r\n        }\r\n      }\r\n\r\n      dispatch(addToCart(item))\r\n  }\r\n\r\n  const product = data.products.items[0];\r\n  pageConfig.title = product.name;\r\n\r\n  return (\r\n    <Layout pageConfig={pageConfig}>\r\n      {(loading)?<CircularProgress />:\r\n      <Grid container spacing={3}>\r\n        <Grid item sm={5}>\r\n          <section className=\"section product-image\">\r\n              <img src={product.image.url} alt={product.image.label} />\r\n          </section>\r\n        </Grid> \r\n        <Grid item sm={7}>\r\n          <div>\r\n            <section className=\"section product-info\">\r\n              <h1>{product.name}</h1>\r\n              <Price price={product.price_range.minimum_price} />\r\n            </section>\r\n            <section>\r\n                <form id={`add-to-cart-${product.id}`} onSubmit={handleAddtoCart}>\r\n                    <TextField required label=\"Quantity\" defaultValue={qty} id=\"qty\" onChange={handleQty} />\r\n                    <Button variant=\"contained\" type=\"submit\"> Add to Cart</Button>\r\n                </form>\r\n            </section>\r\n            <section className=\"section product-description\">\r\n              <h4>Description</h4>\r\n              <div dangerouslySetInnerHTML={{__html: product.description.html}}></div>\r\n            </section>\r\n          </div>\r\n        </Grid>\r\n      </Grid>\r\n      }\r\n    </Layout>\r\n  )\r\n};\r\n\r\nexport default compose(withApollo, withRedux)(Product);\r\n"]},"metadata":{},"sourceType":"module"}