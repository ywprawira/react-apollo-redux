{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\icube\\\\Documents\\\\Yuda Folder\\\\react\\\\next\\\\next-js-apollo-redux\\\\pages\\\\product\\\\[url_key].js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Layout from \"../../components/Layout\";\nimport { withApollo } from \"../../lib/apollo\";\nimport { withRedux } from \"../../lib/redux\";\nimport { useRouter } from \"next/router\";\nimport { useQuery } from \"@apollo/react-hooks\";\nimport { PRODUCT_BY_KEY } from \"../../data/product\";\nimport Price from \"../../components/Price\";\nimport { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { addToCart } from '../../redux/action/actionCart';\nimport { compose } from \"redux\";\nimport { Grid, TextField, Paper, Button, CircularProgress, makeStyles, Icon } from \"@material-ui/core\";\nconst useStyles = makeStyles(theme => ({\n  img: {\n    width: '100%'\n  },\n  description: {\n    width: '100%',\n    '& img, & iframe': {\n      width: '100%'\n    }\n  },\n  availibity: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    textTransform: 'capitalize'\n  },\n  formAddToCart: {\n    '& .material-icons': {\n      marginRight: '5px'\n    }\n  },\n  productInfo: {\n    display: 'block',\n    '& .section:not(last-child)': {\n      display: 'block',\n      margin: '0 0 10px'\n    }\n  }\n}));\n\nconst Product = () => {\n  const pageConfig = {\n    title: \"PDP\"\n  };\n  const {\n    0: qty = 1,\n    1: setQty\n  } = useState();\n  const dispatch = useDispatch();\n  const router = useRouter();\n  const classes = useStyles();\n  const {\n    url_key\n  } = router.query;\n  const {\n    loading,\n    data\n  } = useQuery(PRODUCT_BY_KEY, {\n    variables: {\n      url_key: url_key\n    }\n  });\n\n  if (loading) {\n    return __jsx(\"div\", {\n      className: \"loading\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 7\n      }\n    }, \"Wait ...\");\n  }\n\n  const handleQty = e => {\n    setQty(e.target.value);\n  };\n\n  const handleAddtoCart = e => {\n    e.preventDefault();\n    const item = {\n      id: product.id,\n      qty: parseInt(qty),\n      product: {\n        name: product.name,\n        image: __jsx(\"img\", {\n          src: product.image.url,\n          alt: product.image.label,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 20\n          }\n        }),\n        price: __jsx(Price, {\n          price: product.price_range.minimum_price,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 20\n          }\n        }),\n        sku: product.sku\n      }\n    };\n    dispatch(addToCart(item));\n  };\n\n  const product = data.products.items[0];\n  pageConfig.title = product.name;\n  return __jsx(Layout, {\n    pageConfig: pageConfig,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 5\n    }\n  }, loading ? __jsx(CircularProgress, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 18\n    }\n  }) : __jsx(Grid, {\n    container: true,\n    spacing: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }, __jsx(Grid, {\n    item: true,\n    sm: 5,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, __jsx(\"section\", {\n    className: \"section product-image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }, __jsx(\"img\", {\n    src: product.image.url,\n    alt: product.image.label,\n    className: classes.img,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 15\n    }\n  }))), __jsx(Grid, {\n    item: true,\n    sm: 7,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: classes.productInfo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  }, __jsx(\"section\", {\n    className: `section ${classes.availibity}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }, __jsx(\"small\", {\n    className: \"sku\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  }, product.sku), __jsx(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }, \"availibity: \", product.stock_status)), __jsx(\"section\", {\n    className: \"section product-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }, __jsx(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 15\n    }\n  }, product.name), __jsx(Price, {\n    price: product.price_range.minimum_price,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 15\n    }\n  })), __jsx(\"section\", {\n    className: `section ${classes.formAddToCart}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }, __jsx(\"form\", {\n    id: `add-to-cart-${product.id}`,\n    onSubmit: handleAddtoCart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }\n  }, __jsx(TextField, {\n    required: true,\n    label: \"Quantity\",\n    defaultValue: qty,\n    id: \"qty\",\n    onChange: handleQty,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 21\n    }\n  }), __jsx(Button, {\n    variant: \"contained\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 21\n    }\n  }, __jsx(Icon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 63\n    }\n  }, \"add_shopping_cart\"), \" Add to Cart\"))), __jsx(\"section\", {\n    className: \"section product-description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }, __jsx(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 15\n    }\n  }, \"Description\"), __jsx(\"div\", {\n    className: classes.description,\n    dangerouslySetInnerHTML: {\n      __html: product.description.html\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 15\n    }\n  }))))));\n};\n\nexport default compose(withApollo, withRedux)(Product);","map":{"version":3,"sources":["C:/Users/icube/Documents/Yuda Folder/react/next/next-js-apollo-redux/pages/product/[url_key].js"],"names":["Layout","withApollo","withRedux","useRouter","useQuery","PRODUCT_BY_KEY","Price","useState","useDispatch","addToCart","compose","Grid","TextField","Paper","Button","CircularProgress","makeStyles","Icon","useStyles","theme","img","width","description","availibity","display","justifyContent","textTransform","formAddToCart","marginRight","productInfo","margin","Product","pageConfig","title","qty","setQty","dispatch","router","classes","url_key","query","loading","data","variables","handleQty","e","target","value","handleAddtoCart","preventDefault","item","id","product","parseInt","name","image","url","label","price","price_range","minimum_price","sku","products","items","stock_status","__html","html"],"mappings":";;;AAAA,OAAOA,MAAP,MAAmB,yBAAnB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,SAAT,QAA0B,iBAA1B;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,SAASC,QAAT,QAAyB,qBAAzB;AACA,SAASC,cAAT,QAA+B,oBAA/B;AACA,OAAOC,KAAP,MAAkB,wBAAlB;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,SAAT,QAA0B,+BAA1B;AACA,SAASC,OAAT,QAAwB,OAAxB;AACA,SAASC,IAAT,EAAeC,SAAf,EAA0BC,KAA1B,EAAiCC,MAAjC,EAAyCC,gBAAzC,EAA2DC,UAA3D,EAAuEC,IAAvE,QAAmF,mBAAnF;AAEA,MAAMC,SAAS,GAAGF,UAAU,CAAEG,KAAD,KAAY;AACvCC,EAAAA,GAAG,EAAE;AACHC,IAAAA,KAAK,EAAE;AADJ,GADkC;AAIvCC,EAAAA,WAAW,EAAE;AACXD,IAAAA,KAAK,EAAE,MADI;AAEX,uBAAmB;AACjBA,MAAAA,KAAK,EAAE;AADU;AAFR,GAJ0B;AAUvCE,EAAAA,UAAU,EAAE;AACVC,IAAAA,OAAO,EAAE,MADC;AAEVC,IAAAA,cAAc,EAAE,eAFN;AAGVC,IAAAA,aAAa,EAAE;AAHL,GAV2B;AAevCC,EAAAA,aAAa,EAAE;AACb,yBAAqB;AACnBC,MAAAA,WAAW,EAAE;AADM;AADR,GAfwB;AAoBvCC,EAAAA,WAAW,EAAE;AACXL,IAAAA,OAAO,EAAE,OADE;AAEX,kCAA8B;AAC5BA,MAAAA,OAAO,EAAE,OADmB;AAE5BM,MAAAA,MAAM,EAAE;AAFoB;AAFnB;AApB0B,CAAZ,CAAD,CAA5B;;AA6BA,MAAMC,OAAO,GAAG,MAAM;AACpB,QAAMC,UAAU,GAAG;AACjBC,IAAAA,KAAK,EAAE;AADU,GAAnB;AAGA,QAAM;AAAA,OAACC,GAAG,GAAC,CAAL;AAAA,OAAQC;AAAR,MAAkB5B,QAAQ,EAAhC;AACA,QAAM6B,QAAQ,GAAG5B,WAAW,EAA5B;AACA,QAAM6B,MAAM,GAAGlC,SAAS,EAAxB;AACA,QAAMmC,OAAO,GAAGpB,SAAS,EAAzB;AACA,QAAM;AAAEqB,IAAAA;AAAF,MAAcF,MAAM,CAACG,KAA3B;AACA,QAAM;AAAEC,IAAAA,OAAF;AAAWC,IAAAA;AAAX,MAAoBtC,QAAQ,CAACC,cAAD,EAAiB;AACjDsC,IAAAA,SAAS,EAAE;AACTJ,MAAAA,OAAO,EAAEA;AADA;AADsC,GAAjB,CAAlC;;AAMA,MAAIE,OAAJ,EAAa;AACX,WACE;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF;AAGD;;AAED,QAAMG,SAAS,GAAIC,CAAD,IAAO;AACrBV,IAAAA,MAAM,CAACU,CAAC,CAACC,MAAF,CAASC,KAAV,CAAN;AACH,GAFD;;AAIA,QAAMC,eAAe,GAAIH,CAAD,IAAO;AAC3BA,IAAAA,CAAC,CAACI,cAAF;AAEA,UAAMC,IAAI,GAAG;AACXC,MAAAA,EAAE,EAAEC,OAAO,CAACD,EADD;AAEXjB,MAAAA,GAAG,EAAEmB,QAAQ,CAACnB,GAAD,CAFF;AAGXkB,MAAAA,OAAO,EAAE;AACLE,QAAAA,IAAI,EAAEF,OAAO,CAACE,IADT;AAELC,QAAAA,KAAK,EAAE;AAAK,UAAA,GAAG,EAAEH,OAAO,CAACG,KAAR,CAAcC,GAAxB;AAA6B,UAAA,GAAG,EAAEJ,OAAO,CAACG,KAAR,CAAcE,KAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFF;AAGLC,QAAAA,KAAK,EAAE,MAAC,KAAD;AAAO,UAAA,KAAK,EAAEN,OAAO,CAACO,WAAR,CAAoBC,aAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAHF;AAILC,QAAAA,GAAG,EAAET,OAAO,CAACS;AAJR;AAHE,KAAb;AAWAzB,IAAAA,QAAQ,CAAC3B,SAAS,CAACyC,IAAD,CAAV,CAAR;AACH,GAfD;;AAiBA,QAAME,OAAO,GAAGV,IAAI,CAACoB,QAAL,CAAcC,KAAd,CAAoB,CAApB,CAAhB;AACA/B,EAAAA,UAAU,CAACC,KAAX,GAAmBmB,OAAO,CAACE,IAA3B;AAEA,SACE,MAAC,MAAD;AAAQ,IAAA,UAAU,EAAEtB,UAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACIS,OAAD,GAAU,MAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAV,GACD,MAAC,IAAD;AAAM,IAAA,SAAS,MAAf;AAAgB,IAAA,OAAO,EAAE,CAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAS,IAAA,SAAS,EAAC,uBAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,GAAG,EAAEW,OAAO,CAACG,KAAR,CAAcC,GAAxB;AAA6B,IAAA,GAAG,EAAEJ,OAAO,CAACG,KAAR,CAAcE,KAAhD;AAAuD,IAAA,SAAS,EAAEnB,OAAO,CAAClB,GAA1E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADF,CADF,EAME,MAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE,CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAEkB,OAAO,CAACT,WAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAS,IAAA,SAAS,EAAG,WAAUS,OAAO,CAACf,UAAW,EAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAO,IAAA,SAAS,EAAC,KAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAwB6B,OAAO,CAACS,GAAhC,CADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAoBT,OAAO,CAACY,YAA5B,CAFJ,CADF,EAKE;AAAS,IAAA,SAAS,EAAC,sBAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKZ,OAAO,CAACE,IAAb,CADF,EAEE,MAAC,KAAD;AAAO,IAAA,KAAK,EAAEF,OAAO,CAACO,WAAR,CAAoBC,aAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CALF,EASE;AAAS,IAAA,SAAS,EAAG,WAAUtB,OAAO,CAACX,aAAc,EAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAM,IAAA,EAAE,EAAG,eAAcyB,OAAO,CAACD,EAAG,EAApC;AAAuC,IAAA,QAAQ,EAAEH,eAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI,MAAC,SAAD;AAAW,IAAA,QAAQ,MAAnB;AAAoB,IAAA,KAAK,EAAC,UAA1B;AAAqC,IAAA,YAAY,EAAEd,GAAnD;AAAwD,IAAA,EAAE,EAAC,KAA3D;AAAiE,IAAA,QAAQ,EAAEU,SAA3E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,EAEI,MAAC,MAAD;AAAQ,IAAA,OAAO,EAAC,WAAhB;AAA4B,IAAA,IAAI,EAAC,QAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA0C,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAA1C,iBAFJ,CADJ,CATF,EAeE;AAAS,IAAA,SAAS,EAAC,6BAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,EAEE;AAAK,IAAA,SAAS,EAAEN,OAAO,CAAChB,WAAxB;AAAqC,IAAA,uBAAuB,EAAE;AAAC2C,MAAAA,MAAM,EAAEb,OAAO,CAAC9B,WAAR,CAAoB4C;AAA7B,KAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,CAfF,CADF,CANF,CAFF,CADF;AAmCD,CAhFD;;AAkFA,eAAexD,OAAO,CAACT,UAAD,EAAaC,SAAb,CAAP,CAA+B6B,OAA/B,CAAf","sourcesContent":["import Layout from \"../../components/Layout\";\r\nimport { withApollo } from \"../../lib/apollo\";\r\nimport { withRedux } from \"../../lib/redux\";\r\nimport { useRouter } from \"next/router\";\r\nimport { useQuery } from \"@apollo/react-hooks\";\r\nimport { PRODUCT_BY_KEY } from \"../../data/product\";\r\nimport Price from \"../../components/Price\";\r\nimport { useState } from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { addToCart } from '../../redux/action/actionCart';\r\nimport { compose } from \"redux\";\r\nimport { Grid, TextField, Paper, Button, CircularProgress, makeStyles, Icon } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  img: {\r\n    width: '100%'\r\n  },\r\n  description: {\r\n    width: '100%',\r\n    '& img, & iframe': {\r\n      width: '100%'\r\n    }\r\n  },\r\n  availibity: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    textTransform: 'capitalize'\r\n  },\r\n  formAddToCart: {\r\n    '& .material-icons': {\r\n      marginRight: '5px'\r\n    }\r\n  },\r\n  productInfo: {\r\n    display: 'block',\r\n    '& .section:not(last-child)': {\r\n      display: 'block',\r\n      margin: '0 0 10px'\r\n    }\r\n  }\r\n}))\r\n\r\nconst Product = () => {\r\n  const pageConfig = {\r\n    title: \"PDP\",\r\n  };\r\n  const [qty=1, setQty] = useState();\r\n  const dispatch = useDispatch();\r\n  const router = useRouter();\r\n  const classes = useStyles();\r\n  const { url_key } = router.query;\r\n  const { loading, data } = useQuery(PRODUCT_BY_KEY, {\r\n    variables: {\r\n      url_key: url_key,\r\n    },\r\n  });\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"loading\">Wait ...</div>\r\n    );\r\n  }\r\n\r\n  const handleQty = (e) => {\r\n      setQty(e.target.value)\r\n  }\r\n\r\n  const handleAddtoCart = (e) => {\r\n      e.preventDefault();\r\n\r\n      const item = {\r\n        id: product.id,\r\n        qty: parseInt(qty),\r\n        product: {\r\n            name: product.name,\r\n            image: <img src={product.image.url} alt={product.image.label} />,\r\n            price: <Price price={product.price_range.minimum_price}/>,\r\n            sku: product.sku\r\n        }\r\n      }\r\n\r\n      dispatch(addToCart(item))\r\n  }\r\n\r\n  const product = data.products.items[0];\r\n  pageConfig.title = product.name;\r\n\r\n  return (\r\n    <Layout pageConfig={pageConfig}>\r\n      {(loading)?<CircularProgress />:\r\n      <Grid container spacing={3}>\r\n        <Grid item sm={5}>\r\n          <section className=\"section product-image\">\r\n              <img src={product.image.url} alt={product.image.label} className={classes.img} />\r\n          </section>\r\n        </Grid> \r\n        <Grid item sm={7}>\r\n          <div className={classes.productInfo}>\r\n            <section className={`section ${classes.availibity}`}>\r\n                <small className=\"sku\">{product.sku}</small>\r\n                <small>availibity: {product.stock_status}</small>\r\n            </section>\r\n            <section className=\"section product-info\">\r\n              <h1>{product.name}</h1>\r\n              <Price price={product.price_range.minimum_price} />\r\n            </section>\r\n            <section className={`section ${classes.formAddToCart}`}>\r\n                <form id={`add-to-cart-${product.id}`} onSubmit={handleAddtoCart}>\r\n                    <TextField required label=\"Quantity\" defaultValue={qty} id=\"qty\" onChange={handleQty} />\r\n                    <Button variant=\"contained\" type=\"submit\"><Icon>add_shopping_cart</Icon> Add to Cart</Button>\r\n                </form>\r\n            </section>\r\n            <section className=\"section product-description\">\r\n              <h4>Description</h4>\r\n              <div className={classes.description} dangerouslySetInnerHTML={{__html: product.description.html}}></div>\r\n            </section>\r\n          </div>\r\n        </Grid>\r\n      </Grid>\r\n      }\r\n    </Layout>\r\n  )\r\n};\r\n\r\nexport default compose(withApollo, withRedux)(Product);\r\n"]},"metadata":{},"sourceType":"module"}